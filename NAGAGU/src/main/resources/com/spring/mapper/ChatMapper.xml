<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.spring.mapper.ChatMapper">

	<resultMap type="com.spring.chat.MessageVO" id="msgMap">
		<result property="MSG_NUM" column="CHAT_NUM"/> 
		<result property="MSG_CHATROOM_NUM" column="CHAT_CHATROOM_NUM"/> 
		<result property="MSG_CONTENT" column="CHAT_CONTENT"/> 
		<result property="MSG_DATE" column="CHAT_DATE"/> 
	</resultMap>
	
	<insert id="insertMsg" parameterType="com.spring.chat.MessageVO">
		INSERT INTO chat_message VALUES (chat_msg_seq.nextval, #{MSG_CHATROOM_NUM}, #{MSG_CONTENT}, #{MSG_DATE})
	</insert>
	
	<select id="allMsg" parameterType="int" resultMap="msgMap">
		SELECT * FROM chat_message WHERE chat_chatroom_num = #{MSG_CHATROOM_NUM}
	</select>
</mapper>