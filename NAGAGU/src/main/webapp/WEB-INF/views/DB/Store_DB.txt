
/*상품테이블*/
create table PRODUCT (
    PRODUCT_NUM                 NUMBER PRIMARY KEY,
    PRODUCT_WORKSHOP            NUMBER,
    PRODUCT_SHOPNAME            VARCHAR2(50),
    PRODUCT_DATE                DATE,
    PRODUCT_TITLE               VARCHAR2(100),
    PRODUCT_BRIEF               VARCHAR2(100),
    PRODUCT_CATEGORY            VARCHAR2(30),
    PRODUCT_PRICE               NUMBER,
    PRODUCT_GRADE               NUMBER(2,1),
    PRODUCT_READ                NUMBER,
    PRODUCT_SALES               NUMBER,
    PRODUCT_LIKE                NUMBER,
    PRODUCT_COLOR               VARCHAR2(50),
    PRODUCT_OPTION              VARCHAR2(100),
    PRODUCT_SIZE                VARCHAR2(50),
    PRODUCT_INFO                VARCHAR2(1000),
    PRODUCT_SHIP_PRICE          NUMBER,
    PRODUCT_SHIP_COMPANY        VARCHAR2(20),
    PRODUCT_SHIP_RETURN_PRICE   NUMBER,
    PRODUCT_SHIP_CHANGE_PRICE   NUMBER,
    PRODUCT_SHIP_RETURN_PLACE   VARCHAR2(20),
    PRODUCT_SHIP_DAYS           VARCHAR2(20),
    PRODUCT_SHIP_INFO           VARCHAR2(1000),
    PRODUCT_AS_INFO             VARCHAR2(2000),
    PRODUCT_RETURN_INFO         VARCHAR2(2000),
    PRODUCT_STORE_INFO          VARCHAR2(2000),
    PRODUCT_BANNER              VARCHAR2(2000),
    PRODUCT_IMAGE               VARCHAR2(2000)
);

/*상품시퀀스*/ 
create sequence product_seq
    start with 1
    increment by 1
    maxvalue 10000;

/*상품 리뷰*/ 
create table PRODUCT_REVIEW(
    REVIEW_NUM          NUMBER PRIMARY KEY,
    REVIEW_MEMBER       NUMBER,
    REVIEW_PRODUCT      NUMBER,
    CONSTRAINT PRODUCT_REVIEW_NUM FOREIGN KEY (REVIEW_PRODUCT) 
        REFERENCES PRODUCT(PRODUCT_NUM)ON DELETE CASCADE, 
    REVIEW_DATE         DATE,
    REVIEW_FILE         VARCHAR2(2000),
    REVIEW_CONTENT      VARCHAR2(1000),
    REVIEW_GRADE        NUMBER(2,1),
    REVIEW_RE			NUMBER
);

/*상품 리뷰 시퀀스*/ 
create sequence store_review_seq
    start with 1
    increment by 1
    maxvalue 10000;
    
    
/*상품 qna*/     
create table PRODUCT_QNA(
    QNA_NUM          NUMBER PRIMARY KEY,
    QNA_MEMBER       NUMBER,
    QNA_PRODUCT      NUMBER,
    CONSTRAINT PRODUCT_QNA_NUM FOREIGN KEY (QNA_PRODUCT) 
        REFERENCES PRODUCT(PRODUCT_NUM)ON DELETE CASCADE, 
    QNA_DATE         DATE,
    QNA_CONTENT      VARCHAR2(1000)
);   

/*상품qna 시퀀스*/      
create sequence store_qna_seq
    start with 1
    increment by 1
    maxvalue 10000;
    
    
    
/*공방*/    
create table WORKSHOP(
    WORKSHOP_NUM        NUMBER,
    WORKSHOP_EMAIL      VARCHAR2(100),
    WORKSHOP_PASS       VARCHAR2(50),
    WORKSHOP_NAME       VARCHAR2(50),
    WORKSHOP_PHONE      VARCHAR2(50),
    WORKSHOP_ADDRESS1   VARCHAR2(50),
    WORKSHOP_ADDRESS2   VARCHAR2(50),
    WORKSHOP_ZIP        VARCHAR2(15),
    WORKSHOP_LICENSE    VARCHAR2(50),
    WORKSHOP_DATE       DATE,
    WORKSHOP_INTRO      VARCHAR2(200),
    WORKSHOP_OWNER      VARCHAR2(15),
    WORKSHOP_BANK       VARCHAR2(20),
    WORKSHOP_ACNUM      VARCHAR2(100)
);   
/*공방 시퀀스*/              
create sequence workshop_seq
    start with 1
    increment by 1
    maxvalue 10000;
    

/* 좋아요 */
CREATE TABLE PRODUCT_LIKE (
	PRODUCT_LIKE_NUM NUMBER NOT NULL, /* 좋아요 ID */
	PRODUCT_LIKE_MEMBER NUMBER, /* 회원 번호 */
	PRODUCT_LIKE_PRODUCT NUMBER /* 상품번호 */
);

ALTER TABLE PRODUCT_LIKE
	ADD
		CONSTRAINT PK_MEMBER_LIKE
		PRIMARY KEY (
			PRODUCT_LIKE_NUM
		);
/*좋아요 시퀀스*/
CREATE SEQUENCE SEQ_PRODUCT_LIKE
    START WITH 1
    INCREMENT BY 1;    